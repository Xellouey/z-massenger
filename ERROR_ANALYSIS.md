# ERROR ANALYSIS

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–≤–µ—Ä–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∑–≤–æ–Ω—è—â–µ–≥–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø—Ä–∏–Ω—è—Ç–∏—è –∑–≤–æ–Ω–∫–∞
**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ –≤—Ö–æ–¥—è—â–µ–º –∑–≤–æ–Ω–∫–µ –æ—Ç "–ü–∞—à–∫–∞" –Ω–∞ —ç–∫—Ä–∞–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–∞–∫ –±—É–¥—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–≤–æ–Ω–∏—Ç —Å–∞–º —Å–µ–±–µ
- –í push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–ü–∞—à–∫–∞ –∑–≤–æ–Ω–∏—Ç!"

**–õ–æ–≥–∏:**
```
I/flutter (23877): üì® handleMessage called:
I/flutter (23877): notificationData: {"alertMessage":"true","pName":"–ü–∞—à–∫–∞",...}
I/flutter (23877): üì± Showing notification:
I/flutter (23877): Title: –ü–∞—à–∫–∞
I/flutter (23877): Body: –ü–∞—à–∫–∞ –∑–≤–æ–Ω–∏—Ç!
```

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
- `lib/screens/app_screens/pick_up_call/pick_up_body.dart:363`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –º–µ–ª–æ–¥–∏–∏ –∑–≤–æ–Ω–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è
**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è –∑–≤–æ–Ω–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏–≥—Ä–∞—Ç—å –º–µ–ª–æ–¥–∏—è callsound.wav
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏/–∑–∞–∫—Ä—ã—Ç–∏–∏ —à—Ç–æ—Ä–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–õ–æ–≥–∏:**
```
I/NotificationManager(23877): com.webiots.chatzy: notify(508096619, null, Notification(channel=call_channel...
I/flutter (23877): ‚úÖ Notification shown successfully with ID: 508096619
I/flutter (23877): ‚úÖ Notification shown successfully with ID: 508096619
```

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
- `lib/controllers/common_controllers/notification_controller.dart:707-798`

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ–≤–µ—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞
**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω —á–∞—Ç–∞ —Å —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–º
- –î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –æ–∫–Ω–æ –≤—Å–µ—Ö —á–∞—Ç–æ–≤ (dashboard)
- –í–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ NoSuchMethodError

**–õ–æ–≥–∏:**
```
[log] endCall: Cleanup complete, navigating to chat
[GETX] GOING TO ROUTE /chatLayout
E/flutter (23877): [ERROR:flutter/runtime/dart_vm_initializer.cc(40)] Unhandled Exception: NoSuchMethodError: The method '[]' was called on null.
E/flutter (23877): #1 ChatController.getChatData (package:chatzy/controllers/app_pages_controllers/chat_controller.dart:319:13)
```

**–°—Ç–µ–∫-—Ç—Ä–µ–π—Å:**
- –û—à–∏–±–∫–∞ –Ω–∞ —Å—Ç—Ä–æ–∫–µ 319 –≤ `ChatController.getChatData()`
- –ü–æ–ø—ã—Ç–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `data["message"]` –∫–æ–≥–¥–∞ `data` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á "message"

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
- `lib/controllers/app_pages_controllers/audio_call_controller.dart:681-717` (_navigateToChat)
- `lib/controllers/app_pages_controllers/chat_controller.dart:319` (–æ—à–∏–±–∫–∞)

## –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã

1. **lib/screens/app_screens/pick_up_call/pick_up_body.dart**
   - –°—Ç—Ä–æ–∫–∞ 363: –ù–µ–≤–µ—Ä–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏
   - –°—Ç—Ä–æ–∫–∏ 31-85: –õ–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞ —á–∞—Ç
   - –°—Ç—Ä–æ–∫–∏ 102-111: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞
   - –°—Ç—Ä–æ–∫–∏ 124-199: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –∑–≤–æ–Ω–∫–∞

2. **lib/controllers/app_pages_controllers/audio_call_controller.dart**
   - –°—Ç—Ä–æ–∫–∏ 681-717: _navigateToChat() –º–µ—Ç–æ–¥
   - –°—Ç—Ä–æ–∫–∞ 810: –í—ã–∑–æ–≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∑–≤–æ–Ω–∫–∞
   - –°—Ç—Ä–æ–∫–∏ 642-678: endCall() –º–µ—Ç–æ–¥

3. **lib/controllers/app_pages_controllers/chat_controller.dart**
   - –°—Ç—Ä–æ–∫–∞ 89: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π data
   - –°—Ç—Ä–æ–∫–∞ 143: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è data –∏–∑ Get.arguments
   - –°—Ç—Ä–æ–∫–∞ 319: –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ data["message"]

4. **lib/controllers/common_controllers/notification_controller.dart**
   - –°—Ç—Ä–æ–∫–∏ 707-798: –ú–µ—Ç–æ–¥ showNotification()
   - –°—Ç—Ä–æ–∫–∞ 787: –°–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å ID
   - –°—Ç—Ä–æ–∫–∏ 751-768: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Android notification

5. **lib/screens/app_screens/pick_up_call/pick_up_call.dart**
   - –°—Ç—Ä–æ–∫–∏ 117-217: StreamBuilder –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∑–≤–æ–Ω–∫–æ–≤
   - –°—Ç—Ä–æ–∫–∏ 154-165: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥—è—â–∏–π/–∏—Å—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫ –¥–ª—è –≤–∏–±—Ä–∞—Ü–∏–∏

## –û–∂–∏–¥–∞–µ–º–æ–µ vs –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞ 1
**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –ü—Ä–∏ –∑–≤–æ–Ω–∫–µ –æ—Ç "–ü–∞—à–∫–∞" ‚Üí —ç–∫—Ä–∞–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ü–∞—à–∫–∞ Audio Call"
- –ü—Ä–∏ –∑–≤–æ–Ω–∫–µ –º–Ω–µ –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–º—è –∑–≤–æ–Ω—è—â–µ–≥–æ

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏:**
- –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `call!.receiverName` –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞
- –î–ª—è –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞ receiverName = —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –ü—Ä–æ–±–ª–µ–º–∞ 2
**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –ü—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ –∑–≤–æ–Ω–∫–∞ –º–µ–ª–æ–¥–∏—è –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω–æ

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏:**
- –ú–µ–ª–æ–¥–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏–≥—Ä–∞—Ç—å
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º ID

### –ü—Ä–æ–±–ª–µ–º–∞ 3
**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –ü–æ—Å–ª–µ –∑–≤–æ–Ω–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ dashboard (—Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤)

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏:**
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω —á–∞—Ç–∞ —Å —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–º
- –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞ –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª—é—á–∞ "message" –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

## –£—Å–ª–æ–≤–∏—è –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è

1. **–ü—Ä–æ–±–ª–µ–º–∞ 1:** –í–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –ª—é–±–æ–º –≤—Ö–æ–¥—è—â–µ–º –∑–≤–æ–Ω–∫–µ
2. **–ü—Ä–æ–±–ª–µ–º–∞ 2:** –í–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ –∑–≤–æ–Ω–∫–∞ —á–µ—Ä–µ–∑ pickup screen
3. **–ü—Ä–æ–±–ª–µ–º–∞ 3:** –í–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –∑–≤–æ–Ω–∫–∞ —á–µ—Ä–µ–∑ AudioCallController.onCallEnd()
